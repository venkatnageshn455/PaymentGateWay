<div class="payment-form-container">
  <h2 class="form-title">
    {{ isEditMode ? 'Editing Payment' : 'Creating Payment' }}
  </h2>

  <form (ngSubmit)="submitForm()" class="form-body">

    <!-- Select Existing User -->
    <div class="form-group">
      <label>Select Existing User</label>
      <select [(ngModel)]="selectedUser" name="selectedUser" (change)="onUserSelect()">
        <option value="">-- None --</option>
        <option *ngFor="let u of users" [value]="u">{{ u }}</option>
      </select>
    </div>

    <!-- User ID -->
    <div class="form-group" *ngIf="showUserIdInput">
      <label>User ID</label>
      <input
        type="text"
        name="userId"
        [(ngModel)]="model.userId"
        required />
    </div>

    <!-- Amount -->
    <div class="form-group">
      <label>Amount</label>
      <input
        type="number"
        name="amount"
        [(ngModel)]="model.amount"
        required />
    </div>

    <!-- Currency -->
    <!-- Currency -->
<div class="form-group">
  <label>Currency</label>
  <select name="currency" [(ngModel)]="model.currency">
    <option value="INR">INR</option>
    <option value="USD">USD</option>
    <option value="EUR">EUR</option>
    <option value="GBP">GBP</option>
  </select>
</div>


    <!-- Reference -->
    <div class="form-group">
      <label>Reference</label>
      <input
        type="text"
        name="reference"
        [(ngModel)]="model.reference" />
    </div>

    <!-- Buttons -->
    <div class="form-buttons">
      <button type="submit" [disabled]="isSubmitting">
        {{ isEditMode ? 'Update Payment' : 'Create Payment' }}
      </button>

      <button type="button" (click)="cancel()">Cancel</button>
    </div>

  </form>
</div>
